{
  "log": {
    "level": "info",
    "timestamp": true,
    "output": "/var/log/sing-box.log"
  },
  "dns": {
    "servers": [
      {
        "tag": "local",
        "address": "223.5.5.5",
        "detour": "direct"
      },
      {
        "tag": "doh",
        "address": "https://1.1.1.1/dns-query",
        "detour": "ğŸš€ é»˜è®¤ä»£ç†"
      },
      {
        "tag": "block",
        "address": "rcode://success"
      }
    ],
    "rules": [
      {
        "outbound": "any",
        "server": "doh"
      },
      {
        "geosite": "cn",
        "server": "local"
      },
      {
        "domain_suffix": ["openai.com", "anthropic.com"],
        "server": "doh",
        "disable_cache": true
      },
      {
        "rule_set": ["geosite-category-ads-all"],
        "server": "block"
      }
    ],
    "final": "doh",
    "strategy": "prefer_ipv4"
  },
  "inbounds": [
    {
      "type": "tun",
      "tag": "tun-in",
      "interface_name": "Momo",
      "mtu": 1500,
      "stack": "system",
      "strict_route": true,
      "sniff": true,
      "sniff_override_destination": true
    }
  ],
  "outbounds": [
    // ==================== æ ¸å¿ƒä»£ç†ç»„ ====================
    {
      "tag": "ğŸš€ é»˜è®¤ä»£ç†",
      "type": "selector",
      "outbounds": ["â™»ï¸ è‡ªåŠ¨é€‰æ‹©", "ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡"],
      "default": "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
      "interrupt_exist_connections": false
    },
    {
      "tag": "â™»ï¸ è‡ªåŠ¨é€‰æ‹©",
      "type": "urltest",
      "outbounds": ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"],
      "url": "http://www.gstatic.com/generate_204",
      "interval": "1m",
      "tolerance": 50,
      "interrupt_exist_connections": false
    },

    // ==================== åŒºåŸŸèŠ‚ç‚¹ç»„ ====================
    {
      "tag": "ğŸ‡­ğŸ‡° é¦™æ¸¯",
      "type": "vless",
      "server": "hk.example.com",
      "server_port": 443,
      "uuid": "your-uuid-here",
      "flow": "xtls-rprx-vision",
      "tls": {
        "enabled": true,
        "server_name": "hk.example.com",
        "utls": {
          "enabled": true,
          "fingerprint": "chrome"
        }
      },
      "transport": {
        "type": "ws",
        "path": "/v2ray",
        "headers": {
          "Host": "hk.example.com"
        }
      }
    },
    {
      "tag": "ğŸ‡ºğŸ‡¸ ç¾å›½",
      "type": "vless",
      "server": "us.example.com",
      "server_port": 443,
      "uuid": "your-uuid-here",
      "flow": "xtls-rprx-vision",
      "tls": {
        "enabled": true,
        "server_name": "us.example.com",
        "alpn": ["h2", "http/1.1"]
      }
    },
    {
      "tag": "ğŸ‡¯ğŸ‡µ æ—¥æœ¬",
      "type": "vless",
      "server": "jp.example.com",
      "server_port": 443,
      "uuid": "your-uuid-here",
      "flow": "xtls-rprx-vision",
      "multiplex": {
        "enabled": true,
        "max_connections": 4
      }
    },

    // ==================== ä¸“é¡¹æœåŠ¡ç»„ ====================
    {
      "tag": "ğŸ§  AI",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½-OpenAI", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡-Claude"],
      "default": "ğŸ‡ºğŸ‡¸ ç¾å›½-OpenAI"
    },
    {
      "tag": "ğŸ‡ºğŸ‡¸ ç¾å›½-OpenAI",
      "type": "vless",
      "server": "openai.example.com",
      "server_port": 443,
      "uuid": "your-uuid-here",
      "tls": {
        "enabled": true,
        "server_name": "api.openai.com",
        "reality": {
          "enabled": true,
          "public_key": "your-pk-here",
          "short_id": "your-id"
        }
      }
    },
    {
      "tag": "ğŸ“¹ YouTube",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"],
      "strategy": "max_bandwidth"
    },
    {
      "tag": "ğŸ¬ Emby",
      "type": "selector",
      "outbounds": ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡"],
      "strategy": "min_delay"
    },
    {
      "tag": "ğŸ€ Google",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"],
      "multiplex": {
        "enabled": true,
        "max_streams": 8
      }
    },
    {
      "tag": "ğŸ‘¨â€ğŸ’» Github",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡"],
      "strategy": "min_loss"
    },
    {
      "tag": "ğŸ“² Telegram",
      "type": "selector",
      "outbounds": ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡·ğŸ‡º ä¿„ç½—æ–¯"],
      "tcp_fast_open": true
    },
    {
      "tag": "ğŸµ TikTok",
      "type": "selector",
      "outbounds": ["ğŸ‡¯ğŸ‡µ æ—¥æœ¬", "ğŸ‡°ğŸ‡· éŸ©å›½"],
      "override": {
        "tls": {
          "server_name": "www.tiktok.com"
        }
      }
    },
    {
      "tag": "ğŸ¥ Netflix",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"],
      "override": {
        "tls": {
          "server_name": "www.netflix.com",
          "alpn": ["h2"]
        }
      }
    },
    {
      "tag": "ğŸ® Steam",
      "type": "selector",
      "outbounds": ["ğŸ‡­ğŸ‡° é¦™æ¸¯", "ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡"],
      "multiplex": {
        "enabled": true,
        "max_connections": 4,
        "min_streams": 2
      }
    },
    {
      "tag": "ğŸªŸ Microsoft",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡ªğŸ‡º æ¬§æ´²"],
      "detour": "direct"
    },
    {
      "tag": "ğŸ Apple",
      "type": "selector",
      "outbounds": ["ğŸ‡ºğŸ‡¸ ç¾å›½", "ğŸ‡¯ğŸ‡µ æ—¥æœ¬"],
      "tcp_fast_open": true
    },

    // ==================== ç³»ç»Ÿç»„ ====================
    {
      "tag": "ğŸ¯ å…¨çƒç›´è¿",
      "type": "direct"
    },
    {
      "tag": "ğŸ  æ¼ç½‘ä¹‹é±¼",
      "type": "selector",
      "outbounds": ["ğŸš€ é»˜è®¤ä»£ç†", "ğŸ¯ å…¨çƒç›´è¿"],
      "default": "ğŸš€ é»˜è®¤ä»£ç†"
    },
    {
      "tag": "dns-out",
      "type": "dns"
    }
  ],

  "route": {
    "rules": [
      // ======== åŸºç¡€è§„åˆ™ ========
      {"protocol": "dns", "outbound": "dns-out"},
      {"ip_is_private": true, "outbound": "ğŸ¯ å…¨çƒç›´è¿"},
      {"geoip": ["private", "cn"], "outbound": "ğŸ¯ å…¨çƒç›´è¿"},
      {"geosite": "cn", "outbound": "ğŸ¯ å…¨çƒç›´è¿"},

      // ======== å¹¿å‘Šæ‹¦æˆª ========
      {
        "rule_set": ["geosite-category-ads-all"],
        "outbound": "block"
      },
      {
        "domain_keyword": ["tracking", "analytics"],
        "outbound": "block"
      },

      // ======== åˆ†ç»„è·¯ç”±è§„åˆ™ ========
      {"domain_suffix": ["openai.com", "anthropic.com"], "outbound": "ğŸ§  AI"},
      {"domain_keyword": ["youtube.com", "youtu.be"], "outbound": "ğŸ“¹ YouTube"},
      {"domain_suffix": ["emby.media", "jellyfin.org"], "outbound": "ğŸ¬ Emby"},
      {"domain_suffix": ["google.com", "googleapis.com"], "outbound": "ğŸ€ Google"},
      {"domain_suffix": ["github.com", "github.io"], "outbound": "ğŸ‘¨â€ğŸ’» Github"},
      {"domain_suffix": ["telegram.org", "t.me"], "outbound": "ğŸ“² Telegram"},
      {"domain_suffix": ["tiktokv.com", "musical.ly"], "outbound": "ğŸµ TikTok"},
      {"domain_suffix": ["netflix.com", "nflxso.net"], "outbound": "ğŸ¥ Netflix"},
      {"domain_suffix": ["steampowered.com", "steamcontent.com"], "outbound": "ğŸ® Steam"},
      {"domain_suffix": ["microsoft.com", "windowsupdate.com"], "outbound": "ğŸªŸ Microsoft"},
      {"domain_suffix": ["apple.com", "icloud.com"], "outbound": "ğŸ Apple"},

      // ======== å¢å¼ºè§„åˆ™ ========
      {
        "rule_set": ["geosite-category-streaming"],
        "outbound": "ğŸ“¹ YouTube",
        "strategy": "max_bandwidth"
      },
      {
        "rule_set": ["geosite-game"],
        "outbound": "ğŸ® Steam",
        "strategy": "min_delay"
      },
      {
        "rule_set": ["geosite-microsoft"],
        "outbound": "ğŸªŸ Microsoft"
      }
    ],
    "rule_set": [
      {
        "tag": "geosite-category-ads-all",
        "type": "remote",
        "format": "binary",
        "url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geo/geosite/category-ads-all.srs",
        "download_detour": "ğŸš€ é»˜è®¤ä»£ç†"
      },
      {
        "tag": "geosite-game",
        "type": "remote",
        "format": "binary",
        "url": "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geo/geosite/game.srs"
      }
    ],
    "final": "ğŸ  æ¼ç½‘ä¹‹é±¼",
    "auto_detect_interface": true
  },

  "experimental": {
    "cache_file": {
      "enabled": true,
      "path": "/etc/sing-box/cache.db",
      "cache_size": 10000
    },
    "clash_api": {
      "external_controller": "127.0.0.1:9090",
      "secret": "your-secret"
    }
  }
}
